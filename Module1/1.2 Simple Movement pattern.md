# Lab 1.2: Simple Movement Pattern

## Purpose
This lab teaches you to safely power on the robot and command basic movements. You'll learn the proper sequence for getting Spot ready for operation and execute a controlled movement pattern. This establishes the foundation for all autonomous behaviors you'll develop later.

## What You'll Learn
- Robot power-on sequence and safety protocols
- Lease acquisition and management
- Basic movement commands and velocity control
- Timing and synchronization for sequential movements
- Safe shutdown procedures

## Prerequisites
- Completed Lab 1.1 successfully
- Clear space around robot (minimum 10ft x 10ft recommended)
- Understanding of robot safety procedures
- Emergency stop button accessible

## Tasks to Complete

### Task 1: Safe Power-On Sequence
1. Create a new Python file named `lab1_2_movement.py`
2. Import the connection code from Lab 1.1
3. Implement the `power_on_robot()` function with these steps:
   - Acquire a lease (this gives your program control of the robot)
   - Send power-on command
   - Wait for motors to power up (check motor power state)
   - Send stand command
   - Verify robot has stood up successfully
4. Add timeout protection (abort if standing takes more than 10 seconds)
5. Test the power-on sequence and observe the robot's behavior

### Task 2: Basic Movement Commands
1. Implement a function `move_forward(distance_meters, speed)` that:
   - Converts distance to movement duration based on speed
   - Sends velocity command to move forward
   - Stops after the calculated duration
   - Verifies robot has stopped before returning
2. Test moving forward 1 meter at 0.5 m/s
3. Add safety checks to prevent commands if robot isn't standing

### Task 3: Turning and Rotation
1. Create a function `turn_in_place(angle_radians, angular_speed)` that:
   - Rotates the robot by the specified angle
   - Uses angular velocity commands (dyaw parameter)
   - Stops rotation when complete
2. Test 90-degree turns (π/2 radians) in both directions
3. Verify the robot's final orientation matches expectations

### Task 4: Execute Square Pattern
1. Implement `basic_inspection_movement()` function to create a square pattern:
   - Move forward 2 meters
   - Turn right 90 degrees
   - Repeat 4 times to complete the square
2. Add a pause between each movement segment (2 seconds recommended)
3. Include progress updates printed to console
4. Time the entire sequence

### Task 5: Enhanced Movement with Feedback
1. Query robot odometry after each movement segment
2. Calculate and display:
   - Actual distance traveled vs. commanded distance
   - Actual rotation vs. commanded rotation
   - Total path length
3. Add a visual indicator showing robot's current facing direction
4. Log all movements to a file for analysis

### Task 6: Safe Shutdown
1. Implement a `safe_shutdown(robot)` function that:
   - Returns robot to sitting position
   - Powers down motors
   - Releases the lease
2. Add this to a `finally` block to ensure it runs even if errors occur
3. Test emergency shutdown by interrupting the program mid-movement

## Deliverables
- [ ] Working `lab1_2_movement.py` script that executes the square pattern
- [ ] Video recording of robot executing the complete movement sequence
- [ ] Movement log file showing commanded vs. actual positions
- [ ] Written analysis (1 paragraph) of movement accuracy and any drift observed

## Testing Checklist
- [ ] Robot successfully stands up from sitting position
- [ ] Forward movements are smooth and controlled
- [ ] Turns are accurate within ±5 degrees
- [ ] Robot completes full square pattern and returns near starting position
- [ ] Safe shutdown occurs even if program is interrupted
- [ ] No collisions with obstacles during movement

## Safety Reminders

⚠️ **CRITICAL SAFETY POINTS:**
- Always maintain clear line of sight to the robot
- Keep emergency stop button within reach
- Ensure at least 6 feet clearance around robot's path
- Never run movement commands without a lease
- Test in an open area free of people, pets, and fragile objects
- Start with slower speeds (0.3 m/s) before increasing

## Common Issues and Hints
- If robot doesn't stand: Check battery level and motor power state
- If movements are inaccurate: Verify you're sending stop commands properly
- If robot loses balance: Reduce speed and check floor surface is level
- Timing-based movements are approximate; consider using odometry feedback for precision
- The robot may adjust its position slightly even when "stopped" to maintain balance

## Getting Help
- Review the code examples provided in the module materials
- Check Boston Dynamics SDK documentation: https://dev.bostondynamics.com
- Post questions in the course forum (include error messages and what you've tried)
- Attend office hours for hands-on assistance
- Remember: Struggling with problems is part of the learning process!
